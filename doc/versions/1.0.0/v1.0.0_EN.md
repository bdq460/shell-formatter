# Shell Formatter v1.0.0 - Feature List

## Quick Version (for GitHub)

### Core Features

- **Smart Formatting** - Auto-format Shell scripts with shfmt
- **Error Detection** - Detect syntax/semantic errors with shellcheck
- **Auto Diagnosis** - Auto-check on open/save/edit (300ms debounce)
- **Quick Fixes** - One-click fix for formatting issues
- **Plugin System** - Dynamic plugin activation/deactivation
- **Performance Monitor** - Built-in performance metrics

### Commands

- Format Document
- Fix All Problems
- Show Performance Report
- Reset Performance Metrics
- Show Plugin Status

### Supported Files

- `.sh` - Shell scripts
- `.bash` - Bash scripts
- `.zsh` - Zsh scripts

### Requirements

- VSCode >= 1.74.0
- shfmt (required)
- shellcheck (recommended)

---

## Detailed Feature List

### ðŸ“ Formatting Features

- **Smart Formatting** - Automatically format Shell scripts with `shfmt`, unifying code style
- **Full Document Formatting** - Format the entire document with one click
- **Selection Formatting** - Format selected text area (automatically crops selected part)
- **Indentation Configuration** - Flexible indentation control options
  - Use VSCode editor's indentation settings
  - Custom space count support
  - Ignore indentation validation support

### ðŸ” Diagnostic Features

- **Syntax Error Detection** - Detect Shell script syntax errors with `shellcheck`
- **Semantic Error Detection** - Detect potential semantic issues and best practice violations
- **Formatting Issue Detection** - Detect code formatting issues with `shfmt`
- **Auto Diagnosis** - Automatically trigger diagnostic checks
  - When opening a file
  - When saving a file
  - When editing a file (300ms debounce)
- **Error Handling** - Configurable error handling strategies
  - Show problems
  - Ignore errors

### âš¡ Quick Fixes

- **Single Issue Fix** - Click the yellow light bulb icon to fix individual formatting issues
- **Batch Fix** - Fix all formatting issues with one click
- **Code Actions Integration** - Seamless integration with VSCode native Quick Fix functionality
- **Command Palette Support** - Execute fix operations via command palette

### ðŸ”§ Plugin System

- **Dynamic Plugin Management** - Configuration-driven plugin activation/deactivation mechanism
- **shfmt Plugin** - Standalone formatting plugin, can be enabled/disabled independently
- **shellcheck Plugin** - Standalone diagnostic plugin, can be enabled/disabled independently
- **Custom Tool Path** - Support configuring plugin executable paths
- **Plugin Status Viewing** - View activation status and version info of all plugins in real-time

### ðŸ“Š Performance Monitoring

- **Built-in Performance Metrics Collection** - Automatically collect plugin execution performance data
  - Plugin activation time
  - Formatting execution time
  - Diagnosis execution time
- **Performance Report** - View detailed performance metric reports
- **Performance Metrics Reset** - Support resetting performance statistics
- **Parallel Plugin Activation** - Optimized plugin activation process (40% performance improvement)

### ðŸ“‹ Logging System

- **Detailed Operation Logs** - Record all key operations
- **Configurable Log Levels** - Support four levels: debug, info, warn, error
- **Custom Log Format** - Support flexible log format configuration
  - Available placeholders: `%timestamp`, `%level`, `%name`, `%method`, `%line`, `%message`
- **Log Toggle** - Enable or disable logging at any time

### ðŸ“‚ File Support

- **Multiple File Type Support** - Automatically recognize and format:
  - `.sh` - Shell scripts
  - `.bash` - Bash scripts
  - `.zsh` - Zsh scripts

### âš™ï¸ Configuration Options

- **Complete Configuration Support** - Provide rich configuration options
- **Real-time Configuration Update** - Configuration changes take effect immediately
- **Configuration Validation** - Automatically validate configuration validity

### ðŸŽ¯ User Commands

5 core commands provided:

- `Format Document` - Format current document
- `Fix All Problems` - Fix all problems
- `Show Performance Report` - Show performance report
- `Reset Performance Metrics` - Reset performance metrics
- `Show Plugin Status` - Show plugin status

### ðŸŽ¨ User Experience

- **Shortcut Support** - Compatible with VSCode default formatting shortcuts
- **Right-click Menu** - Convenient right-click menu operation entry
- **Command Palette** - Quick access to all features via command palette
- **Output Panel** - Display detailed logs in dedicated output channel
- **Problems Panel** - Integrated into VSCode problems panel for unified error/warning display

---

## System Requirements

- **VSCode Version**
  - VSCode >= 1.74.0

- **External Tools**
  - **shfmt** (Required)
    - Shell script formatting tool
    - Install: `brew install shfmt` (macOS) or `go install mvdan.cc/sh/v3/cmd/shfmt@latest`
  - **shellcheck** (Recommended)
    - Shell script static analysis tool
    - Install: `brew install shellcheck` (macOS) or `go install github.com/koalaman/shellcheck/cmd/shellcheck@latest`

## Technical Highlights

- **Plugin Architecture** - Easy to extend with plugin-based design
- **Dependency Injection** - Decoupled code with DI container
- **Debounce Mechanism** - Avoid frequent triggers with 300ms debounce
- **Asynchronous Execution** - Non-blocking UI with async operations
- **Performance Optimization** - Improved user experience with performance enhancements
